<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday, Mummy üéâ</title>
  <meta name="description" content="Happy Birthday website for Mummy ‚Äî from Vineesh & Sudeepti" />
  <style>
    :root{
      --bg:#fff2f7;
      --accent:#ff6fa3;
      --muted:#6b6b6b;
      --card:#ffffffee;
      --radius:16px;
      --max-width:1050px;
    }
    html,body{height:100%;}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      color:#222;
      overflow-x:hidden;
    }
    /* Layout */
    .wrap{min-height:100vh;display:flex;flex-direction:column;}
    header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;z-index:40;position:relative;}
    h1{margin:0;font-size:1.4rem;color:var(--accent);font-weight:800}
    nav{display:flex;gap:8px;flex-wrap:wrap}
    .tab-btn{background:rgba(255,255,255,0.85);border-radius:10px;padding:8px 10px;border:1px solid rgba(0,0,0,0.06);cursor:pointer;font-weight:700}
    .tab-btn.active{background:var(--accent);color:#fff;box-shadow:0 10px 20px rgba(255,111,160,0.12)}
    main{flex:1;display:flex;justify-content:center;padding:12px}
    .container{width:100%;max-width:var(--max-width);}

    /* Card */
    .card{background:var(--card);border-radius:var(--radius);box-shadow:0 12px 30px rgba(0,0,0,0.06);padding:16px;margin-bottom:16px}

    /* falling emojis */
    #emoji-falls{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;overflow:hidden;z-index:6}
    .falling{position:absolute;top:-10vh;opacity:0.95;animation:fall linear infinite;pointer-events:none;user-select:none}
    @keyframes fall{0%{transform:translateY(-5vh) rotate(0deg);opacity:0}10%{opacity:1}100%{transform:translateY(120vh) rotate(360deg);opacity:0}}

    /* canvas for fireworks */
    canvas#fw{position:fixed;left:0;top:0;width:100%;height:100%;z-index:12;pointer-events:auto}

    /* music control */
    .music-btn{position:fixed;right:14px;bottom:100px;z-index:46;background:white;padding:10px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.08);display:flex;gap:8px;align-items:center}
    .btn{cursor:pointer;padding:8px 12px;border-radius:10px;border:none;background:var(--accent);color:white;font-weight:800}
    .btn.secondary{background:white;color:#333;border:1px solid rgba(0,0,0,0.06)}

    /* HOME */
    .home-grid{display:flex;flex-direction:column;gap:14px}
    .interactive-row{display:flex;gap:14px;flex-wrap:wrap;align-items:center;justify-content:center}
    .cake-wrap{display:flex;flex-direction:column;align-items:center;cursor:pointer;user-select:none}
    .cake-caption{font-size:0.92rem;color:var(--muted);margin-top:8px}

    /* cake svg size */
    #cakeSVG{max-width:260px;width:100%;height:auto;display:block}

    .present-btn{background:white;border-radius:14px;padding:14px;display:flex;flex-direction:column;align-items:center;box-shadow:0 14px 30px rgba(0,0,0,0.06);cursor:pointer}

    /* modal */
    .modal{position:fixed;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:60}
    .modal-content{width:94%;max-width:940px;background:white;border-radius:12px;padding:12px}

    /* carousel */
    .carousel{position:relative;overflow:hidden;border-radius:12px}
    .carousel img{width:100%;height:380px;object-fit:cover;display:block}
    .carousel .controls{display:flex;justify-content:space-between;margin-top:8px;align-items:center}

    /* timeline */
    .timeline-area{display:flex;gap:12px;flex-wrap:wrap}
    .timeline-visual{flex:1;min-width:260px;border-left:3px solid rgba(255,111,160,0.18);padding-left:14px}
    .timeline-item{position:relative;margin-bottom:18px}
    .timeline-item .year{position:absolute;left:-90px;top:0;background:white;padding:6px 10px;border-radius:999px;color:var(--accent);font-weight:800;box-shadow:0 6px 14px rgba(0,0,0,0.04)}

    /* timeline form box */
    .timeline-form{width:320px;min-width:260px;background:rgba(255,255,255,0.95);padding:12px;border-radius:12px;box-shadow:0 8px 18px rgba(0,0,0,0.04)}
    input,textarea,select{width:100%;padding:10px;margin-bottom:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);font-size:1rem}
    label.small{font-size:0.85rem;color:var(--muted);display:block;margin-bottom:6px}

    /* letter */
    textarea.letter{width:100%;height:56vh;padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.06);font-size:1rem;resize:vertical}

    footer{padding:12px;text-align:center;font-size:0.92rem;color:var(--muted);z-index:46}

    /* responsiveness */
    @media (min-width:900px){ .home-grid{flex-direction:row} .carousel img{height:480px} .interactive-row{justify-content:space-between} }
    @media (max-width:520px){ h1{font-size:1.1rem} .carousel img{height:260px} .music-btn{right:10px;bottom:80px} }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Falling emojis -->
    <div id="emoji-falls"></div>

    <!-- fireworks canvas -->
    <canvas id="fw"></canvas>

    <header>
      <h1>Happy Birthday, Mummy üéâ</h1>
      <nav id="nav">
        <button class="tab-btn active" data-tab="home">Our Personal Message</button>
        <button class="tab-btn" data-tab="memories">Our Memories</button>
        <button class="tab-btn" data-tab="timeline">Timeline of Our Precious Mummy</button>
        <button class="tab-btn" data-tab="letter">Heartfelt Letter</button>
      </nav>
    </header>

    <main>
      <div class="container">
        <!-- HOME -->
        <section id="home" class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px">
            <div>
              <h2 style="margin:0;color:var(--accent)">Our Personal Message</h2>
              <p style="margin:6px 0 0 0;color:var(--muted)">Mummy, you are our sunshine. Click anywhere to make fireworks ‚Äî try the cake and the present!</p>
            </div>
            <div style="display:flex;gap:8px;align-items:center">
              <small style="color:var(--muted)">Tip: If audio doesn't autoplay, press Play</small>
            </div>
          </div>

          <div class="home-grid" style="margin-top:14px;align-items:center">
            <div style="flex:1;min-width:260px">
              <div class="cake-wrap" id="cakeWrap" title="Click the cake to toggle candle">
                <!-- Cake SVG with identifiable IDs -->
                <svg id="cakeSVG" viewBox="0 0 260 240" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <g transform="translate(8,8)">
                    <rect x="16" y="100" width="220" height="90" rx="16" fill="#ffdbe9" stroke="#ffb6d9" stroke-width="3"/>
                    <rect x="42" y="70" width="176" height="40" rx="12" fill="#fff6f9" stroke="#ffdbe6" stroke-width="2"/>
                    <!-- candle group -->
                    <g id="candleGroup" style="cursor:pointer">
                      <rect id="candleStem" x="125" y="36" width="6" height="34" rx="2" fill="#fff"/>
                      <g id="flameGroup">
                        <ellipse id="flameOuter" cx="128" cy="24" rx="8" ry="14" fill="#ffb74d"/>
                        <ellipse id="flameInner" cx="128" cy="20" rx="4" ry="8" fill="#fff3b0"/>
                      </g>
                      <g id="smokeGroup" style="display:none">
                        <text x="112" y="26" font-size="18">üí®</text>
                      </g>
                    </g>
                  </g>
                </svg>
                <div class="cake-caption">Click the candle to blow it out (click again to relight)</div>
              </div>
            </div>

            <div style="flex:1;min-width:260px;display:flex;flex-direction:column;align-items:center;gap:12px">
              <div class="present-btn" id="presentBtn" title="Open present">
                <div style="font-size:44px">üéÅ</div>
                <div style="margin-top:8px;font-weight:700;color:var(--muted)">Open Present</div>
              </div>

              <div style="width:100%;text-align:center;margin-top:6px;">
                <small style="color:var(--accent);font-weight:700">With love from Vineesh and Sudeepti</small>
              </div>
            </div>
          </div>
        </section>

        <!-- MEMORIES -->
        <section id="memories" class="card" style="display:none">
          <h2 style="color:var(--accent);margin:0 0 8px 0;">Our Memories</h2>
          <p style="margin:0;color:var(--muted)">A carousel of our favourite moments ‚Äî replace sample images later in your repo's images/ folder.</p>

          <div class="carousel" style="margin-top:12px;">
            <div id="slides" style="position:relative">
              <img id="slideImg" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='700'><rect width='100%' height='100%' fill='%23ffdfe9'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='60' fill='%23ff6fa3'>Memory%201</text></svg>" alt="memory"/>
            </div>

            <div class="controls" style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
              <button id="prev" class="btn secondary">Prev</button>
              <div style="color:var(--muted)" id="slideIndex">1 / 3</div>
              <button id="next" class="btn">Next</button>
            </div>
          </div>

          <div style="margin-top:12px;text-align:right">
            <small style="color:var(--accent);font-weight:700">With love from Vineesh and Sudeepti</small>
          </div>
        </section>

        <!-- TIMELINE -->
        <section id="timeline" class="card" style="display:none">
          <h2 style="color:var(--accent);margin:0 0 8px 0;">Timeline of Our Precious Mummy</h2>
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <div class="timeline-visual" id="timelineVisual" style="min-height:220px;padding-top:8px">
              <!-- timeline entries injected here -->
            </div>

            <div class="timeline-form">
              <div style="margin-bottom:8px"><strong>Add a timeline moment</strong></div>
              <form id="timelineForm">
                <label class="small">Year (2000 - 2025)</label>
                <select name="year" id="yearSelect" required>
                  <!-- years injected by JS -->
                </select>
                <input name="title" placeholder="Title (e.g., Graduation)" required />
                <input name="image" placeholder="Image URL (optional) e.g. images/memory1.jpg" />
                <textarea name="note" placeholder="Short note" rows="4"></textarea>
                <div style="display:flex;gap:8px;margin-top:8px">
                  <button class="btn" type="submit">Add</button>
                  <button class="btn secondary" type="button" id="clearTimelineBtn">Clear All</button>
                </div>
              </form>
              <div style="margin-top:10px;color:var(--muted);font-size:0.92rem">Timeline years run from 2000 through 2025. Added items are saved in your browser (localStorage).</div>
            </div>
          </div>

          <div style="margin-top:8px;text-align:right">
            <small style="color:var(--accent);font-weight:700">With love from Vineesh and Sudeepti</small>
          </div>
        </section>

        <!-- LETTER -->
        <section id="letter" class="card" style="display:none">
          <h2 style="color:var(--accent);margin:0 0 8px 0;">Heartfelt Letter</h2>
          <p style="margin:0 0 10px 0;color:var(--muted)">Write a long thoughtful letter for Mummy. Use Copy or Download when done.</p>
          <textarea id="letterBox" class="letter">Dear Mummy,

Happy Birthday! We love you so much. Thank you for your love, care and all the small things you do. Today we celebrate you and your beautiful heart. ...</textarea>

          <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:8px">
            <button class="btn secondary" id="copyLetterBtn">Copy</button>
            <button class="btn" id="downloadLetterBtn">Download</button>
          </div>

          <div style="margin-top:12px;text-align:right">
            <small style="color:var(--accent);font-weight:700">With love from Vineesh and Sudeepti</small>
          </div>
        </section>
      </div>
    </main>

    <!-- Present modal -->
    <div id="presentModal" class="modal" style="display:none">
      <div class="modal-content">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <h3 style="margin:0;color:var(--accent)">A Surprise for Mummy</h3>
          <div>
            <button id="closePresentBtn" class="btn secondary">Close</button>
          </div>
        </div>
        <!-- use present.mp4 in same folder as index.html -->
        <video id="presentVideo" controls style="width:100%;border-radius:8px" playsinline>
          <source src="present.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    </div>

    <!-- footer -->
    <footer>Made with ‚ù§Ô∏è for Mummy ‚Äî Vineesh & Sudeepti</footer>

    <!-- music control -->
    <div class="music-btn" id="musicControl">
      <audio id="bgAudio" src="bday-music.mp3" loop preload="auto"></audio>
      <button id="toggleMusic" class="btn">Play Music</button>
      <button id="muteMusic" class="btn secondary">Mute</button>
    </div>
  </div>

  <script>
    /* ----------------------------
       Helper & Initialization
       ---------------------------- */
    (function(){
      // Falling emojis
      const container = document.getElementById('emoji-falls');
      const emojis = ['üíñ','üòä','ü§ó','ü§ç','üå∏'];
      const count = 18;
      for(let i=0;i<count;i++){
        const el = document.createElement('div');
        el.className = 'falling';
        el.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        el.style.left = (Math.random()*100) + '%';
        el.style.fontSize = (12 + Math.random()*32) + 'px';
        el.style.animationDuration = (6 + Math.random()*8) + 's';
        el.style.animationDelay = (Math.random()*5)+'s';
        container.appendChild(el);
      }

      // Tabs
      const tabs = document.querySelectorAll('.tab-btn');
      const sections = { home:document.getElementById('home'), memories:document.getElementById('memories'), timeline:document.getElementById('timeline'), letter:document.getElementById('letter') };
      function show(tab){
        tabs.forEach(b => b.classList.toggle('active', b.dataset.tab === tab));
        Object.keys(sections).forEach(k => sections[k].style.display = (k===tab) ? 'block' : 'none');
        // ensure canvas is clickable for fireworks only on home? we allow global clicks
      }
      tabs.forEach(b => b.addEventListener('click', ()=> show(b.dataset.tab)));
      show('home');

      // Canvas fireworks
      const canvas = document.getElementById('fw');
      const ctx = canvas.getContext('2d');
      let W = canvas.width = innerWidth;
      let H = canvas.height = innerHeight;
      window.addEventListener('resize', ()=>{ W=canvas.width=innerWidth; H=canvas.height=innerHeight; });

      const particles = [];
      function rnd(min,max){ return Math.random()*(max-min)+min; }
      function explode(x,y){
        const colors = ['#ff6fa3','#ffd166','#7afcff','#b28dff','#8cffb3'];
        const count = 26;
        for(let i=0;i<count;i++){
          const angle = Math.random()*Math.PI*2;
          const speed = rnd(1.5,6.5);
          particles.push({
            x,y,
            vx:Math.cos(angle)*speed,
            vy:Math.sin(angle)*speed,
            life: Math.floor(rnd(40,110)),
            color: colors[Math.floor(Math.random()*colors.length)],
            r: rnd(1.8,3.8)
          });
        }
      }
      function loop(){
        ctx.clearRect(0,0,W,H);
        for(let i=particles.length-1;i>=0;i--){
          const p=particles[i];
          p.x += p.vx; p.y += p.vy;
          p.vy += 0.06; p.vx *= 0.998;
          p.life--;
          ctx.globalAlpha = Math.max(p.life/100,0);
          ctx.fillStyle = p.color;
          ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
          if(p.life<=0) particles.splice(i,1);
        }
        requestAnimationFrame(loop);
      }
      loop();
      // click to create fireworks
      canvas.addEventListener('click', (e)=> {
        const rect = canvas.getBoundingClientRect();
        explode(e.clientX - rect.left, e.clientY - rect.top);
      });

      /* --------------- Cake Candle (toggle blow out / relight) --------------- */
      (function(){
        const candleGroup = document.getElementById('candleGroup');
        const flameGroup = document.getElementById('flameGroup');
        const smokeGroup = document.getElementById('smokeGroup');
        let lit = true;
        // initial: flame visible
        flameGroup.style.display = 'block';
        smokeGroup.style.display = 'none';
        candleGroup.addEventListener('click', ()=>{
          if(lit){
            // blow out: show smoke briefly then hide flame
            smokeGroup.style.display = 'block';
            flameGroup.style.display = 'none';
            // hide smoke after 900ms
            setTimeout(()=> { smokeGroup.style.display = 'none'; }, 900);
            lit = false;
          } else {
            // relight
            flameGroup.style.display = 'block';
            smokeGroup.style.display = 'none';
            lit = true;
          }
        });
      })();

      /* --------------- Present modal & video --------------- */
      (function(){
        const presentBtn = document.getElementById('presentBtn');
        const modal = document.getElementById('presentModal');
        const closeBtn = document.getElementById('closePresentBtn');
        const video = document.getElementById('presentVideo');

        presentBtn.addEventListener('click', ()=> {
          modal.style.display = 'flex';
          try{ video.currentTime = 0; video.play().catch(()=>{}); }catch(e){}
        });
        closeBtn.addEventListener('click', ()=> {
          try{ video.pause(); }catch(e){}
          modal.style.display = 'none';
        });
        modal.addEventListener('click', (ev)=> {
          if(ev.target === modal){ try{ video.pause(); }catch(e){} modal.style.display = 'none'; }
        });
      })();

      /* --------------- Music controls --------------- */
      (function(){
        const audio = document.getElementById('bgAudio');
        const toggle = document.getElementById('toggleMusic');
        const mute = document.getElementById('muteMusic');
        let playing = false;
        toggle.addEventListener('click', ()=> {
          if(!playing){ audio.play().catch(()=>{}); toggle.textContent='Pause Music'; playing=true; }
          else { audio.pause(); toggle.textContent='Play Music'; playing=false; }
        });
        mute.addEventListener('click', ()=> {
          audio.muted = !audio.muted;
          mute.textContent = audio.muted ? 'Unmute' : 'Mute';
        });
        audio.addEventListener('play', ()=> { toggle.textContent='Pause Music'; playing=true; });
        audio.addEventListener('pause', ()=> { toggle.textContent='Play Music'; playing=false; });
      })();

      /* --------------- Carousel (memories) --------------- */
      (function(){
        // Default three sample slides (data URLs). Replace slideUrls with your actual /images/... later.
        const slideUrls = [
          "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='700'><rect width='100%' height='100%' fill='%23ffdfe9'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='60' fill='%23ff6fa3'>Memory%201</text></svg>",
          "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='700'><rect width='100%' height='100%' fill='%23fff0f0'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='60' fill='%23ff8fbf'>Memory%202</text></svg>",
          "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='700'><rect width='100%' height='100%' fill='%23fff9f0'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='60' fill='%23ff6f9f'>Memory%203</text></svg>"
        ];
        let idx = 0;
        const img = document.getElementById('slideImg');
        const label = document.getElementById('slideIndex');
        function show(i){
          idx = ((i%slideUrls.length)+slideUrls.length)%slideUrls.length;
          img.src = slideUrls[idx];
          label.textContent = (idx+1) + ' / ' + slideUrls.length;
        }
        document.getElementById('prev').addEventListener('click', ()=> show(idx-1));
        document.getElementById('next').addEventListener('click', ()=> show(idx+1));
        setInterval(()=> show(idx+1), 4200);
        show(0);
      })();

      /* --------------- Timeline (years 2000-2025, add via form) --------------- */
      (function(){
        const storageKey = 'mummy_timeline_2000_2025';
        const visual = document.getElementById('timelineVisual');
        const form = document.getElementById('timelineForm');
        const yearSelect = document.getElementById('yearSelect');
        const clearBtn = document.getElementById('clearTimelineBtn');

        // populate year select 2000..2025
        for(let y=2000;y<=2025;y++){
          const opt = document.createElement('option');
          opt.value = y; opt.textContent = y;
          yearSelect.appendChild(opt);
        }

        function load(){
          const raw = localStorage.getItem(storageKey);
          const arr = raw ? JSON.parse(raw) : [
            {year:2001,title:'First Smile',note:'A sweet memory',image:''},
            {year:2015,title:'Big Moment',note:'A proud day',image:''}
          ];
          render(arr);
        }
        function save(arr){ localStorage.setItem(storageKey, JSON.stringify(arr)); }
        function render(arr){
          visual.innerHTML = '';
          arr.sort((a,b)=> a.year - b.year);
          if(arr.length === 0){
            visual.innerHTML = '<div style="color:var(--muted)">No moments yet ‚Äî add some using the form.</div>';
            return;
          }
          arr.forEach((it, idx)=>{
            const node = document.createElement('div');
            node.className = 'timeline-item';
            node.innerHTML = `
              <div class="year">${it.year}</div>
              <div style="margin-left:18px;padding:8px;border-radius:10px;background:rgba(255,255,255,0.95);box-shadow:0 8px 18px rgba(0,0,0,0.04)">
                <div style="font-weight:800;color:var(--accent)">${escapeHtml(it.title)}</div>
                <div style="color:var(--muted);margin-top:6px">${escapeHtml(it.note)}</div>
                ${it.image ? `<img src="${escapeAttr(it.image)}" style="margin-top:8px;border-radius:8px;max-width:240px;display:block" />` : ''}
                <div style="margin-top:8px"><button data-index="${idx}" class="btn secondary removeBtn">Remove</button></div>
              </div>
            `;
            visual.appendChild(node);
          });
          // wire remove buttons
          visual.querySelectorAll('.removeBtn').forEach(btn=>{
            btn.addEventListener('click', ()=>{
              const i = parseInt(btn.dataset.index,10);
              const arr = JSON.parse(localStorage.getItem(storageKey) || '[]');
              arr.splice(i,1);
              save(arr);
              load();
            });
          });
        }

        form.addEventListener('submit', (e)=>{
          e.preventDefault();
          const fd = new FormData(form);
          const year = Number(fd.get('year'));
          if(isNaN(year) || year < 2000 || year > 2025){
            alert('Please choose a year between 2000 and 2025.');
            return;
          }
          const obj = { year: year, title: (fd.get('title')||'').trim(), image: (fd.get('image')||'').trim(), note: (fd.get('note')||'').trim() };
          if(!obj.title){ alert('Please provide a title.'); return; }
          const arr = JSON.parse(localStorage.getItem(storageKey) || '[]');
          arr.push(obj);
          save(arr);
          form.reset();
          load();
          // switch to timeline tab view if needed
        });

        clearBtn.addEventListener('click', ()=>{
          if(confirm('Clear all saved timeline moments?')){ localStorage.removeItem(storageKey); load(); }
        });

        // helpers
        function escapeHtml(s){ return (s||'').replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;'); }
        function escapeAttr(s){ return (s||'').replaceAll('"','&quot;'); }

        load();
      })();

      /* --------------- Letter copy & download --------------- */
      (function(){
        const copyBtn = document.getElementById('copyLetterBtn');
        const downloadBtn = document.getElementById('downloadLetterBtn');
        const box = document.getElementById('letterBox');
        copyBtn.addEventListener('click', ()=> {
          navigator.clipboard.writeText(box.value).then(()=> alert('Letter copied to clipboard'));
        });
        downloadBtn.addEventListener('click', ()=> {
          const blob = new Blob([box.value],{type:'text/plain'});
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url; a.download = 'letter-to-mum.txt'; a.click();
          URL.revokeObjectURL(url);
        });
      })();

      /* small keyboard shortcut: M toggles music */
      document.addEventListener('keydown', (e)=> { if(e.key.toLowerCase()==='m'){ document.getElementById('toggleMusic').click(); } });

      // End init
    })();
  </script>
</body>
</html>
